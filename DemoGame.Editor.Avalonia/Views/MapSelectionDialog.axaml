<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:services="using:DemoGame.Editor.Avalonia.Services"
        x:Class="DemoGame.Editor.Avalonia.Views.MapSelectionDialog"
        Title="Select Map to Open"
        Width="500" Height="600"
        WindowStartupLocation="CenterOwner"
        CanResize="True"
        Icon="/Assets/avalonia-logo.ico">
    
    <Border Background="#252526" Padding="20">
        <DockPanel>
            <!-- Title -->
            <Border DockPanel.Dock="Top"
                    Background="#1E1E1E"
                    BorderBrush="#3F3F46"
                    BorderThickness="0,0,0,1"
                    Padding="12"
                    Margin="0,0,0,15">
                <StackPanel Spacing="4">
                    <TextBlock Text="Select Map to Open" 
                               FontSize="18" 
                               FontWeight="Bold"
                               Foreground="White" />
                    <TextBlock Text="Choose a map from the list below" 
                               FontSize="12"
                               Foreground="Gray" />
                </StackPanel>
            </Border>

            <!-- Buttons -->
            <StackPanel DockPanel.Dock="Bottom" 
                        Orientation="Horizontal" 
                        Spacing="8"
                        HorizontalAlignment="Right"
                        Margin="0,15,0,0">
                <Button Content="✅ Open" 
                        Click="OpenButton_Click"
                        IsDefault="True"
                        MinWidth="100"
                        Padding="10,6" />
                <Button Content="❌ Cancel" 
                        Click="CancelButton_Click"
                        IsCancel="True"
                        MinWidth="100"
                        Padding="10,6" />
            </StackPanel>

            <!-- Map List -->
            <Border Background="#1E1E1E"
                    BorderBrush="#3F3F46"
                    BorderThickness="1">
                <ListBox x:Name="MapListBox"
                         Background="#1E1E1E"
                         SelectionMode="Single"
                         DoubleTapped="MapList_DoubleTapped">
                    <ListBox.ItemTemplate>
                        <DataTemplate DataType="services:MapListItem">
                            <Border Padding="8,6"
                                    BorderBrush="#3F3F46"
                                    BorderThickness="0,0,0,1">
                                <StackPanel Spacing="4">
                                    <TextBlock Text="{Binding ID, StringFormat='Map ID: {0}'}" 
                                               Foreground="#9CDCFE"
                                               FontWeight="Bold"
                                               FontSize="12" />
                                    <TextBlock Text="{Binding Name}" 
                                               Foreground="White"
                                               FontSize="13" />
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                    <ListBox.Styles>
                        <Style Selector="ListBoxItem:selected /template/ ContentPresenter">
                            <Setter Property="Background" Value="#264F78" />
                        </Style>
                        <Style Selector="ListBoxItem:pointerover /template/ ContentPresenter">
                            <Setter Property="Background" Value="#2A2D2E" />
                        </Style>
                    </ListBox.Styles>
                </ListBox>
            </Border>
        </DockPanel>
    </Border>
</Window>

